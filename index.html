<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mini POS — Ajout produit</title>

  <!-- Petit style sombre pour rester propre -->
  <style>
    body{background:#0d1117;color:#fff;font-family:system-ui,Arial;margin:0;padding:24px;max-width:900px}
    h1{margin:0 0 12px}
    .card{background:#161b22;border:1px solid #30363d;border-radius:8px;padding:16px;margin:12px 0}
    button{background:#238636;border:0;color:#fff;border-radius:6px;padding:8px 12px;cursor:pointer}
    button:hover{filter:brightness(1.05)}
    button[disabled]{opacity:.6;cursor:not-allowed}
    ul{padding-left:18px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    input,select{width:100%;padding:8px;border-radius:6px;border:1px solid #30363d;background:#0d1117;color:#fff}
    label{font-size:13px;color:#9fb1c1;display:block;margin-bottom:4px}
    .muted{color:#9fb1c1}
  </style>
</head>
<body>
  <!-- ------------------------------------------------------
       Rôle : interface simple pour tester LECTURE + AJOUT.
       - statusStock : messages d'état (erreur, nb produits…)
       - btnRefresh  : recharge la liste
       - listProduits: liste des produits
       - Formulaire  : pNom, pPrix, pStock, pActif + btnAdd
  ------------------------------------------------------- -->

  <h1>Mini POS — Test lecture + ajout produit</h1>

  <div class="card">
    <div id="statusStock">En attente…</div>
    <button id="btnRefresh" style="margin-top:8px">Rafraîchir</button>
  </div>

  <div class="card">
    <h2>Produits</h2>
    <ul id="listProduits"></ul>
  </div>

  <div class="card">
    <h2>Ajouter un produit</h2>
    <div class="row">
      <div>
        <label for="pNom">Nom</label>
        <input id="pNom" placeholder="ex: Bague acier">
      </div>
      <div>
        <label for="pPrix">Prix TTC (€)</label>
        <input id="pPrix" type="number" step="0.01" min="0" placeholder="ex: 16">
      </div>
      <div>
        <label for="pStock">Stock initial</label>
        <input id="pStock" type="number" min="0" placeholder="ex: 10">
      </div>
      <div>
        <label for="pActif">Actif ?</label>
        <select id="pActif">
          <option value="true" selected>Oui</option>
          <option value="false">Non</option>
        </select>
      </div>
    </div>
    <div style="margin-top:12px">
      <button id="btnAdd">Ajouter</button>
      <span id="addStatus" class="muted" style="margin-left:10px"></span>
    </div>
  </div>

  <!-- 1) Librairie Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- 2) Tes clés + création du client sb -->
  <script src="config.js"></script>
  <!-- 3) Logique de l'app -->
  <script src="app.js"></script>
</body>
</html>
