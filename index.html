<!--
FICHIER: index.html
OBJET: Mini POS (test connexion + lecture produits existants).
DÉPENDANCES: supabase-js (CDN), ./src/config.js, ./src/supabaseClient.js, ./src/app.js
-->
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini POS — Test connexion</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
  <style>
    body { background:#0b0f14; color:#e5e7eb }
    .card { background:#111827; border-radius:12px; padding:16px; border:1px solid #1f2937 }
    .ok { color:#22c55e } .ko { color:#ef4444 } .muted { color:#9ca3af }
    pre { background:#0b1220; padding:12px; border-radius:8px; overflow:auto; border:1px solid #1f2937 }
  </style>
</head>
<body class="container">
  <main>
    <h1>Mini POS — Test connexion Supabase</h1>

    <section class="card">
      <div style="display:flex;gap:12px;align-items:center;justify-content:space-between;">
        <div>
          <strong>État connexion :</strong>
          <span id="connState" class="muted">…</span>
        </div>
        <button id="refreshBtn">Rafraîchir</button>
      </div>
      <small id="status" class="muted"></small>
    </section>

    <section class="card">
      <h3>Produits existants (top 5)</h3>
      <ul id="productsList" style="margin:0;"></ul>
      <details style="margin-top:10px;">
        <summary>Voir JSON (debug)</summary>
        <pre id="rawJson">[]</pre>
      </details>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script type="module" src="./src/config.js"></script>
  <script type="module" src="./src/supabaseClient.js"></script>
  <script type="module" src="./src/app.js"></script>
</body>
</html>
